curl -X POST https://api.easypost.com/v2/addresses \
  -u <YOUR_TEST/PRODUCTION_API_KEY>: \
  -d 'address[company]=EasyPost' \
  -d 'address[street1]=417 Montgomery Street' \
  -d 'address[street2]=5th Floor' \
  -d 'address[city]=San Francisco' \
  -d 'address[state]=CA' \
  -d 'address[zip]=94104' \
  -d 'address[phone]=415-528-7555'

  From Address Response

{
  "id": "adr_btEaKv85",
  "object": "Address",
  "created_at": "2014-07-10T01:05:57Z",
  "updated_at": "2014-07-10T01:05:57Z",
  "name": null,
  "company": "EasyPost",
  "street1": "417 Montgomery Street",
  "street2": "5th Floor",
  "city": "San Francisco",
  "state": "CA",
  "zip": "94104",
  "country": "US",
  "phone": "4155287555",
  "email": null,
  "mode": "test",
  "carrier_facility": null,
  "residential": null,
  "federal_tax_id": null,
  "state_tax_id": null,
  "verifications": {}
}











FROM JOSH
we should scope to an admin user (current_user.stores.find(params))
current_user.manageable_stores
current_user.adminable_stores

biz admin and biz mgr can share views.  Just load different partials and block off controller actions (or try to if/else the hell out of it)




5 items per new category
5 additional registered customers, one with the following data:
Username: josh@turing.io
Password: password
1-5 orders per new registered customer
1 new business manager per business with the following data:
Username: josh@turing.io
Password: password
1 new business admin per business, one with the following data:
Username: ian@turing.io
Password: password
1 new platform administrators
Username: cory@turing.io
Password: password



The Pivot should be able to handle the following users:

Visitor Customer
Visit different businesses.
   - need businesses
     - make table (name, slug)
Add items from multiple businesses into a single cart.
   - items need a store ID (FK for store)

Log in or create an account before completing checkout.
 - seems ok, but check


Registered Customer
Make purchases on any business
   - need businesses
Manage my account information
 - add edit button to /dashboard page for user
View my purchase history
 - seems working, but need a link from Orders Index (need to add the business details like items linked to business, maybe order show)


app/
  controllers/
    store/
      admin (currently a single business admin = Store Admin)
        store's dashboard? getting an edit button from the store show page
      store manager - Store Admin has full access to these
        items controller
        orders controllers

      items controllers
      orders controller

    users

  models/

  views/
    namespaced views



Store Manager
Manage items on my business
   - items controller, namespaced. Views
Manage orders on my business
   - orders controller namespaced. Views


Store Admin
Manage items on my business
 - controller and view
Manage orders on my business
 -controller and view
Update my business information
 - edit on store Show page (if logic?)
Manage other business managers and business admins for your store
 - Dashboard page. create and edit users and roles. Need a Business Users index


Platform Admin
Approve or decline the creation of new businesses
 - button on the show index page to a create page, and the form is intercepted (notifications?)
Take a business offline / online
   - edit button on store show page (not deleting). Add a column to be active or inactive, plus logic to redirect
    - this version of the business edit page is a link to the business's admin dashboard (with a new tab to edit managers)
Perform any functionality restricted to business admins
 - master permission haver.
