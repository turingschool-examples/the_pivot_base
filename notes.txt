FROM JOSH
we should scope to an admin user (current_user.stores.find(params))
current_user.manageable_stores
current_user.adminable_stores

biz admin and biz mgr can share views.  Just load different partials and block off controller actions (or try to if/else the hell out of it)

for GOD, just use Store.find(id)


With Tests and factory, need to specify Role.title at each folder level

they are changing the seed file for the images
I'll do tests, routes (check her permissions file to make sure they match), and move any current files to adjust for namespacing



Check all routes after namespacing

/store/category(ies) (index/show)
/store/category/items
/admin/store/category(ies) (CRUD)
/admin/store/order(s) (CRUD)
/admin/store/item(s) (CRUD)




5 items per new category
5 additional registered customers, one with the following data:
Username: josh@turing.io
Password: password
1-5 orders per new registered customer
1 new business manager per business with the following data:
Username: josh@turing.io
Password: password
1 new business admin per business, one with the following data:
Username: ian@turing.io
Password: password
1 new platform administrators
Username: cory@turing.io
Password: password



The Pivot should be able to handle the following users:

Guest Customer
Visit different businesses.
   - need businesses
     - make table (name, slug)
Add items from multiple businesses into a single cart.
   - items need a store ID (FK for store)

Log in or create an account before completing checkout.
 - seems ok, but check


Registered Customer
Make purchases on any business
   - need businesses
Manage my account information
 - add edit button to /dashboard page for user
View my purchase history
 - seems working, but need a link from Orders Index (need to add the business details like items linked to business, maybe order show)


app/
  controllers/
    store/
      admin (currently a single business admin = Store Admin)
        store's dashboard? getting an edit button from the store show page
      store manager - Store Admin has full access to these
        items controller
        orders controllers

      items controllers
      orders controller

    users

  models/

  views/
    namespaced views



Store Manager
Manage items on my business
   - items controller, namespaced. Views
Manage orders on my business
   - orders controller namespaced. Views


Store Admin
Manage items on my business
 - controller and view
Manage orders on my business
 -controller and view
Update my business information
 - edit on store Show page (if logic?)
Manage other business managers and business admins for your store
 - Dashboard page. create and edit users and roles. Need a Business Users index


Platform Admin
Approve or decline the creation of new businesses
 - button on the show index page to a create page, and the form is intercepted (notifications?)
Take a business offline / online
   - edit button on store show page (not deleting). Add a column to be active or inactive, plus logic to redirect
    - this version of the business edit page is a link to the business's admin dashboard (with a new tab to edit managers)
Perform any functionality restricted to business admins
 - master permission haver.
